{"ast":null,"code":"import _toConsumableArray from\"/Users/conradtibesar/Documents/Com Sci/Python/relative_valuation/relative_valuation/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/conradtibesar/Documents/Com Sci/Python/relative_valuation/relative_valuation/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import StockTable from\"./components/BodyComponents/StockTable/StockTable\";import{useEffect,useState}from\"react\";import axios from\"axios\";import AddStock from\"./components/BodyComponents/AddStock\";import AverageTable from\"./components/BodyComponents/AverageTable\";import Navbar from\"./components/Navbar/Navbar\";import'./components/BodyComponents/BodyComponents.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),stocksData=_useState2[0],setStocksData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),averageData=_useState4[0],setAverageData=_useState4[1];var NULL_FIELD_MAGIC_NUMBER=-420.69;function containsObject(obj,list){for(var i=0;i<list.length;i++){if(list[i].ticker===obj){return true;}}return false;}var updateAverageData=function updateAverageData(stocks){if(stocks.length>0){var numPE=0,numEV=0,numEtR=0,numEtE=0,numMC=0,numPM=0,numROE=0;var totalPE=0,totalEV=0,totalEtR=0,totalEtE=0,totalMC=0,totalPM=0,totalROE=0;for(var i=0;i<stocks.length;i++){var stock=stocks[i];if(stock.forwardPE!==NULL_FIELD_MAGIC_NUMBER){totalPE+=stock.forwardPE;numPE+=1;}if(stock.enterpriseValue!==NULL_FIELD_MAGIC_NUMBER){totalEV+=stock.enterpriseValue;numEV+=1;}if(stock.enterpriseToRev!==NULL_FIELD_MAGIC_NUMBER){totalEtR+=stock.enterpriseToRev;numEtR+=1;}if(stock.enterpriseToEbitda!==NULL_FIELD_MAGIC_NUMBER){totalEtE+=stock.enterpriseToEbitda;numEtE+=1;}if(stock.marketCap!==NULL_FIELD_MAGIC_NUMBER){totalMC+=stock.marketCap;numMC+=1;}if(stock.profitMargins!==NULL_FIELD_MAGIC_NUMBER){totalPM+=stock.profitMargins;numPM+=1;}if(stock.roe!==NULL_FIELD_MAGIC_NUMBER){totalROE+=stock.roe;numROE+=1;}}setAverageData([{forwardPE:totalPE/numPE,enterpriseValue:totalEV/numEV,enterpriseToRev:totalEtR/numEtR,enterpriseToEbitda:totalEtE/numEtE,marketCap:totalMC/numMC,profitMargins:totalPM/numPM,roe:totalROE/numROE}]);}else{setAverageData([]);}};useEffect(function(){axios.get(\"stocks/\").then(function(res){updateAverageData(res.data.stocksData);setStocksData(res.data.stocksData);}).catch(function(error){return console.error('Error: $(error)');});},[]);var onAdd=function onAdd(ticker){if(!containsObject(ticker,stocksData)){axios.post(\"stocks/\",{ticker:ticker}).then(function(res){updateAverageData([].concat(_toConsumableArray(stocksData),[res.data]));setStocksData([].concat(_toConsumableArray(stocksData),[res.data]));}).catch(function(error){if(error.response){console.log(error.response);}});}else{alert(\"Stock already in list!\");}};var onDelete=function onDelete(_ref){var ticker=_ref.ticker;axios.delete(\"stocks/delete-stock/\"+ticker);setStocksData(stocksData.filter(function(stock){return stock.ticker!==ticker;}));updateAverageData(stocksData.filter(function(stock){return stock.ticker!==ticker;}));};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(AddStock,{onAdd:onAdd}),stocksData.length>0?/*#__PURE__*/_jsx(StockTable,{stocks:stocksData,averageData:averageData,onDelete:onDelete}):/*#__PURE__*/_jsx(\"div\",{children:\"Add a stock to get started!\"}),/*#__PURE__*/_jsx(\"div\",{style:{height:'30px'}}),averageData.length>0?/*#__PURE__*/_jsx(AverageTable,{averageData:averageData}):/*#__PURE__*/_jsx(_Fragment,{})]});};export default App;","map":{"version":3,"sources":["/Users/conradtibesar/Documents/Com Sci/Python/relative_valuation/relative_valuation/frontend/src/App.js"],"names":["StockTable","useEffect","useState","axios","AddStock","AverageTable","Navbar","App","stocksData","setStocksData","averageData","setAverageData","NULL_FIELD_MAGIC_NUMBER","containsObject","obj","list","i","length","ticker","updateAverageData","stocks","numPE","numEV","numEtR","numEtE","numMC","numPM","numROE","totalPE","totalEV","totalEtR","totalEtE","totalMC","totalPM","totalROE","stock","forwardPE","enterpriseValue","enterpriseToRev","enterpriseToEbitda","marketCap","profitMargins","roe","get","then","res","data","catch","error","console","onAdd","post","response","log","alert","onDelete","delete","filter","height"],"mappings":"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","sourcesContent":["import StockTable from \"./components/BodyComponents/StockTable/StockTable\";\nimport {useEffect, useState} from \"react\";\nimport axios from \"axios\";\nimport AddStock from \"./components/BodyComponents/AddStock\";\nimport AverageTable from \"./components/BodyComponents/AverageTable\";\nimport Navbar from \"./components/Navbar/Navbar\";\nimport './components/BodyComponents/BodyComponents.css'\n\nconst App =()=> {\n    const [stocksData, setStocksData] = useState([])\n    const [averageData, setAverageData] = useState([])\n    const NULL_FIELD_MAGIC_NUMBER = -420.69\n\n    function containsObject(obj, list) {\n        for (var i = 0; i < list.length; i++) {\n            if (list[i].ticker === obj) {\n                return true;\n            }\n        }\n        return false\n    }\n\n    const updateAverageData =(stocks) => {\n        if(stocks.length>0){\n            let numPE=0, numEV=0, numEtR=0, numEtE=0, numMC=0, numPM=0, numROE=0\n            let totalPE=0, totalEV=0, totalEtR=0, totalEtE=0, totalMC=0, totalPM=0, totalROE=0\n\n            for(let i =0; i<stocks.length; i++){\n                const stock = stocks[i]\n                if(stock.forwardPE !== NULL_FIELD_MAGIC_NUMBER) {\n                    totalPE += stock.forwardPE\n                    numPE += 1\n                }\n                if(stock.enterpriseValue !== NULL_FIELD_MAGIC_NUMBER) {\n                    totalEV += stock.enterpriseValue\n                    numEV += 1\n                }\n                if(stock.enterpriseToRev !== NULL_FIELD_MAGIC_NUMBER) {\n                    totalEtR += stock.enterpriseToRev\n                    numEtR += 1\n                }\n                if(stock.enterpriseToEbitda !== NULL_FIELD_MAGIC_NUMBER) {\n                    totalEtE += stock.enterpriseToEbitda\n                    numEtE += 1\n                }\n                if(stock.marketCap !== NULL_FIELD_MAGIC_NUMBER) {\n                    totalMC += stock.marketCap\n                    numMC += 1\n                }\n                if(stock.profitMargins !== NULL_FIELD_MAGIC_NUMBER) {\n                    totalPM += stock.profitMargins\n                    numPM += 1\n                }\n                if(stock.roe !== NULL_FIELD_MAGIC_NUMBER) {\n                    totalROE += stock.roe\n                    numROE += 1\n                }\n            }\n            setAverageData([{forwardPE:(totalPE/numPE),\n            enterpriseValue:(totalEV/numEV),\n            enterpriseToRev:(totalEtR/numEtR),\n            enterpriseToEbitda:(totalEtE/numEtE),\n            marketCap:(totalMC/numMC),\n            profitMargins:(totalPM/numPM),\n            roe:(totalROE/numROE)}])\n        }else{setAverageData([])}\n\n    }\n\n    useEffect(()=> {\n         axios.get(\"stocks/\")\n          .then(res => {\n              updateAverageData(res.data.stocksData)\n              setStocksData(res.data.stocksData)\n\n          }).catch(error => console.error('Error: $(error)'))\n    }, [])\n\n    const onAdd =(ticker)=>{\n        if(!containsObject(ticker, stocksData)){\n            axios.post(\"stocks/\", {ticker:ticker})\n                .then(res => {\n                updateAverageData([...stocksData, res.data])\n                setStocksData([...stocksData, res.data])\n                }).catch(function (error) {\n                if (error.response) {\n                    console.log(error.response)\n                }\n                })\n        }else {alert(\"Stock already in list!\")}\n\n    }\n\n    const onDelete = ({ ticker }) =>{\n        axios.delete(\"stocks/delete-stock/\" + ticker)\n        setStocksData(stocksData.filter((stock) => stock.ticker !== ticker))\n        updateAverageData(stocksData.filter((stock) => stock.ticker !== ticker))\n    }\n\n    return (\n    <div className=\"App\">\n        <Navbar/>\n        <AddStock onAdd={ onAdd }/>\n        {\n            (stocksData.length>0) ? <StockTable stocks={ stocksData } averageData={averageData} onDelete={ onDelete } />\n                : <div>Add a stock to get started!</div>\n        }\n        <div style={{height:'30px'}}/>\n        {\n            (averageData.length>0) ? <AverageTable averageData={averageData}/>\n                : <></>\n        }\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}