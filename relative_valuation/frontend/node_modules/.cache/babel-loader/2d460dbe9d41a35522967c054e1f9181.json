{"ast":null,"code":"var _jsxFileName = \"/Users/conradtibesar/Documents/Com Sci/Python/RelativeValuator/relativevaluator/frontend/src/App.js\",\n    _s = $RefreshSig$();\n\nimport StockTable from \"./components/StockTable/StockTable\";\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport AddStock from \"./components/AddStock\";\nimport AverageTable from \"./components/AverageTable\";\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const [stocksData, setStocksData] = useState([]);\n  const [averageData, setAverageData] = useState({});\n  const NULL_FIELD_MAGIC_NUMBER = -420.69;\n\n  function containsObject(obj, list) {\n    for (var i = 0; i < list.length; i++) {\n      if (list[i].ticker === obj) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  const updateAverageData = stocks => {\n    if (stocks.length > 0) {\n      let numPE = 0,\n          numEV = 0,\n          numEtR = 0,\n          numEtE = 0,\n          numMC = 0,\n          numPM = 0,\n          numROE = 0;\n      let totalPE = 0,\n          totalEV = 0,\n          totalEtR = 0,\n          totalEtE = 0,\n          totalMC = 0,\n          totalPM = 0,\n          totalROE = 0;\n\n      for (let i = 0; i < stocks.length; i++) {\n        const stock = stocks[i];\n\n        if (stock.forwardPE !== NULL_FIELD_MAGIC_NUMBER) {\n          totalPE += stock.forwardPE;\n          numPE += 1;\n        }\n\n        if (stock.enterpriseValue !== NULL_FIELD_MAGIC_NUMBER) {\n          totalEV += stock.enterpriseValue;\n          numEV += 1;\n        }\n\n        if (stock.enterpriseToRev !== NULL_FIELD_MAGIC_NUMBER) {\n          totalEtR += stock.enterpriseToRev;\n          numEtR += 1;\n        }\n\n        if (stock.enterpriseToEbitda !== NULL_FIELD_MAGIC_NUMBER) {\n          totalEtE += stock.enterpriseToEbitda;\n          numEtE += 1;\n        }\n\n        if (stock.marketCap !== NULL_FIELD_MAGIC_NUMBER) {\n          totalMC += stock.marketCap;\n          numMC += 1;\n        }\n\n        if (stock.profitMargins !== NULL_FIELD_MAGIC_NUMBER) {\n          totalPM += stock.profitMargins;\n          numPM += 1;\n        }\n\n        if (stock.roe !== NULL_FIELD_MAGIC_NUMBER) {\n          totalROE += stock.roe;\n          numROE += 1;\n        }\n      }\n\n      setAverageData({\n        forwardPE: totalPE / numPE,\n        enterpriseValue: totalEV / numEV,\n        enterpriseToRev: totalEtR / numEtR,\n        enterpriseToEbitda: totalEtE / numEtE,\n        marketCap: totalMC / numMC,\n        profitMargins: totalPM / numPM,\n        roe: totalROE / numROE\n      });\n    } else {\n      setAverageData({});\n    }\n  };\n\n  useEffect(() => {\n    axios.get(\"stocks/\").then(res => {\n      updateAverageData(res.data.stocksData);\n      setStocksData(res.data.stocksData);\n    }).catch(error => console.error('Error: $(error)'));\n  }, []);\n\n  const onAdd = ticker => {\n    if (!containsObject(ticker, stocksData)) {\n      axios.post(\"stocks/\", {\n        ticker: ticker\n      }).then(res => {\n        updateAverageData([...stocksData, res.data]);\n        setStocksData([...stocksData, res.data]);\n      }).catch(function (error) {\n        if (error.response) {\n          console.log(error.response);\n        }\n      });\n    } else {\n      alert(\"Stock already in list!\");\n    }\n  };\n\n  const onDelete = ({\n    ticker\n  }) => {\n    axios.delete(\"delete-stock/\" + ticker);\n    setStocksData(stocksData.filter(stock => stock.ticker !== ticker));\n    updateAverageData(stocksData.filter(stock => stock.ticker !== ticker));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(AddStock, {\n      onAdd: onAdd\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }, this), stocksData.length > 0 ? /*#__PURE__*/_jsxDEV(StockTable, {\n      stocks: stocksData,\n      onDelete: onDelete\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 37\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Add a stock stupid\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 19\n    }, this), averageData !== null ? console.log(averageData) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"2/dyr+Xg3NFXVMoIxToV1EY3cso=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/conradtibesar/Documents/Com Sci/Python/RelativeValuator/relativevaluator/frontend/src/App.js"],"names":["StockTable","useEffect","useState","axios","AddStock","AverageTable","App","stocksData","setStocksData","averageData","setAverageData","NULL_FIELD_MAGIC_NUMBER","containsObject","obj","list","i","length","ticker","updateAverageData","stocks","numPE","numEV","numEtR","numEtE","numMC","numPM","numROE","totalPE","totalEV","totalEtR","totalEtE","totalMC","totalPM","totalROE","stock","forwardPE","enterpriseValue","enterpriseToRev","enterpriseToEbitda","marketCap","profitMargins","roe","get","then","res","data","catch","error","console","onAdd","post","response","log","alert","onDelete","delete","filter"],"mappings":"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","sourcesContent":["import StockTable from \"./components/StockTable/StockTable\";\nimport {useEffect, useState} from \"react\";\nimport axios from \"axios\";\nimport AddStock from \"./components/AddStock\";\nimport AverageTable from \"./components/AverageTable\";\nimport './App.css'\n\nconst App =()=> {\n    const [stocksData, setStocksData] = useState([])\n    const [averageData, setAverageData] = useState({})\n    const NULL_FIELD_MAGIC_NUMBER = -420.69\n\n    function containsObject(obj, list) {\n        for (var i = 0; i < list.length; i++) {\n            if (list[i].ticker === obj) {\n                return true;\n            }\n        }\n        return false\n    }\n\n    const updateAverageData =(stocks) => {\n        if(stocks.length>0){\n            let numPE=0, numEV=0, numEtR=0, numEtE=0, numMC=0, numPM=0, numROE=0\n            let totalPE=0, totalEV=0, totalEtR=0, totalEtE=0, totalMC=0, totalPM=0, totalROE=0\n\n            for(let i =0; i<stocks.length; i++){\n                const stock = stocks[i]\n                if(stock.forwardPE !== NULL_FIELD_MAGIC_NUMBER) {\n                    totalPE += stock.forwardPE\n                    numPE += 1\n                }\n                if(stock.enterpriseValue !== NULL_FIELD_MAGIC_NUMBER) {\n                    totalEV += stock.enterpriseValue\n                    numEV += 1\n                }\n                if(stock.enterpriseToRev !== NULL_FIELD_MAGIC_NUMBER) {\n                    totalEtR += stock.enterpriseToRev\n                    numEtR += 1\n                }\n                if(stock.enterpriseToEbitda !== NULL_FIELD_MAGIC_NUMBER) {\n                    totalEtE += stock.enterpriseToEbitda\n                    numEtE += 1\n                }\n                if(stock.marketCap !== NULL_FIELD_MAGIC_NUMBER) {\n                    totalMC += stock.marketCap\n                    numMC += 1\n                }\n                if(stock.profitMargins !== NULL_FIELD_MAGIC_NUMBER) {\n                    totalPM += stock.profitMargins\n                    numPM += 1\n                }\n                if(stock.roe !== NULL_FIELD_MAGIC_NUMBER) {\n                    totalROE += stock.roe\n                    numROE += 1\n                }\n            }\n            setAverageData({forwardPE:(totalPE/numPE),\n            enterpriseValue:(totalEV/numEV),\n            enterpriseToRev:(totalEtR/numEtR),\n            enterpriseToEbitda:(totalEtE/numEtE),\n            marketCap:(totalMC/numMC),\n            profitMargins:(totalPM/numPM),\n            roe:(totalROE/numROE)})\n        }else{setAverageData({})}\n\n    }\n\n    useEffect(()=> {\n         axios.get(\"stocks/\")\n          .then(res => {\n              updateAverageData(res.data.stocksData)\n              setStocksData(res.data.stocksData)\n\n          }).catch(error => console.error('Error: $(error)'))\n    }, [])\n\n    const onAdd =(ticker)=>{\n        if(!containsObject(ticker, stocksData)){\n            axios.post(\"stocks/\", {ticker:ticker})\n                .then(res => {\n                updateAverageData([...stocksData, res.data])\n                setStocksData([...stocksData, res.data])\n                }).catch(function (error) {\n                if (error.response) {\n                    console.log(error.response)\n                }\n                })\n        }else {alert(\"Stock already in list!\")}\n\n    }\n\n    const onDelete = ({ ticker }) =>{\n        axios.delete(\"delete-stock/\" + ticker)\n        setStocksData(stocksData.filter((stock) => stock.ticker !== ticker))\n        updateAverageData(stocksData.filter((stock) => stock.ticker !== ticker))\n    }\n\n    return (\n    <div className=\"App\">\n\n        <AddStock onAdd={ onAdd }/>\n        {\n            (stocksData.length>0) ? <StockTable stocks={ stocksData } onDelete={ onDelete } />\n                : <div>Add a stock stupid</div>\n        }\n        {\n            (averageData !== null) ? console.log(averageData)\n                : <></>\n        }\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}