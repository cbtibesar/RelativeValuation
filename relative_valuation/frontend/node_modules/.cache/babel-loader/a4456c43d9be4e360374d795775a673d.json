{"ast":null,"code":"var _jsxFileName = \"/Users/conradtibesar/Documents/Com Sci/Python/RelativeValuator/relativevaluator/frontend/src/App.js\",\n    _s = $RefreshSig$();\n\nimport StockTable from \"./components/StockTable\";\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport AddStock from \"./components/AddStock\";\nimport AverageTable from \"./components/AverageTable\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const [stocksData, setStocksData] = useState([]);\n  const [averageData, setAverageData] = useState([]);\n\n  const updateAverageData = stocks => {\n    if (stocks.length > 0) {\n      let numStocks = 0;\n      let averagePE = 0;\n      let averageEnterpriseValue = 0;\n      let averageMarketCap = 0;\n      let averageRoe = 0;\n      let averageEnterpriseToRev = 0;\n      let averageEnterpriseToEbitda = 0;\n      let averageProfitMargins = 0;\n      stocks.map(stock => {\n        averagePE += stock.forwardPE;\n        averageEnterpriseToEbitda += stock.enterpriseToEbitda;\n        averageEnterpriseToRev += stock.enterpriseToRev;\n        averageMarketCap += stock.marketCap;\n        averageRoe += stock.roe;\n        averageEnterpriseValue += stock.enterpriseValue;\n        averageProfitMargins += stock.profitMargins;\n        numStocks += 1;\n      });\n      setAverageData([{\n        forwardPE: averagePE / numStocks,\n        enterpriseValue: averageEnterpriseValue / numStocks,\n        enterpriseToRev: averageEnterpriseToRev / numStocks,\n        enterpriseToEbitda: averageEnterpriseToEbitda / numStocks,\n        marketCap: averageMarketCap / numStocks,\n        profitMargins: averageProfitMargins / numStocks,\n        roe: averageRoe / numStocks\n      }]);\n    } else {\n      setAverageData([]);\n    }\n  };\n\n  useEffect(() => {\n    axios.get(\"stocks/\").then(res => {\n      updateAverageData(res.data.stocksData);\n      setStocksData(res.data.stocksData);\n    }).catch(error => console.error('Error: $(error)'));\n  }, []);\n\n  const onAdd = ({\n    ticker\n  }) => {\n    axios.post(\"stocks/\", {\n      ticker: ticker\n    }).then(res => {\n      updateAverageData([...stocksData, res.data]);\n      setStocksData([...stocksData, res.data]);\n    }).catch(function (error) {\n      if (error.response) {\n        // The request was made and the server responded with a status code\n        // that falls out of the range of 2xx\n        console.log(error.response.data);\n        console.log(error.response.status);\n        console.log(error.response.headers);\n      } else if (error.request) {\n        // The request was made but no response was received\n        // `error.request` is an instance of XMLHttpRequest in the browser and an instance of\n        // http.ClientRequest in node.js\n        console.log(error.request);\n      } else {\n        // Something happened in setting up the request that triggered an Error\n        console.log('Error', error.message);\n      }\n\n      console.log(error.config);\n    });\n  };\n\n  const onDelete = ({\n    ticker\n  }) => {\n    axios.delete(\"delete-stock/\" + ticker);\n    setStocksData(stocksData.filter(stock => stock.ticker !== ticker));\n    updateAverageData(stocksData.filter(stock => stock.ticker !== ticker));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(AddStock, {\n      onAdd: onAdd\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }, this), stocksData.length > 0 ? /*#__PURE__*/_jsxDEV(StockTable, {\n      data: stocksData,\n      onDelete: onDelete\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 37\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Add a stock stupid\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 19\n    }, this), averageData.length > 0 ? /*#__PURE__*/_jsxDEV(AverageTable, {\n      averageData: averageData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 38\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"Jy9mOx9x7wqGV4MQtDMYH+aZfEo=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/conradtibesar/Documents/Com Sci/Python/RelativeValuator/relativevaluator/frontend/src/App.js"],"names":["StockTable","useEffect","useState","axios","AddStock","AverageTable","App","stocksData","setStocksData","averageData","setAverageData","updateAverageData","stocks","length","numStocks","averagePE","averageEnterpriseValue","averageMarketCap","averageRoe","averageEnterpriseToRev","averageEnterpriseToEbitda","averageProfitMargins","map","stock","forwardPE","enterpriseToEbitda","enterpriseToRev","marketCap","roe","enterpriseValue","profitMargins","get","then","res","data","catch","error","console","onAdd","ticker","post","response","log","status","headers","request","message","config","onDelete","delete","filter"],"mappings":"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","sourcesContent":["import StockTable from \"./components/StockTable\";\nimport {useEffect, useState} from \"react\";\nimport axios from \"axios\";\nimport AddStock from \"./components/AddStock\";\nimport AverageTable from \"./components/AverageTable\";\n\n\nconst App =()=> {\n    const [stocksData, setStocksData] = useState([])\n    const [averageData, setAverageData] = useState([])\n\n    const updateAverageData =(stocks) => {\n        if(stocks.length>0){\n            let numStocks = 0\n            let averagePE = 0;\n            let averageEnterpriseValue = 0;\n            let averageMarketCap = 0;\n            let averageRoe = 0;\n            let averageEnterpriseToRev = 0;\n            let averageEnterpriseToEbitda = 0;\n            let averageProfitMargins = 0;\n            stocks.map((stock) => {\n                averagePE += stock.forwardPE\n                averageEnterpriseToEbitda += stock.enterpriseToEbitda\n                averageEnterpriseToRev += stock.enterpriseToRev\n                averageMarketCap += stock.marketCap\n                averageRoe += stock.roe\n                averageEnterpriseValue += stock.enterpriseValue\n                averageProfitMargins += stock.profitMargins\n                numStocks +=1\n            })\n\n            setAverageData([{forwardPE:(averagePE/numStocks),\n            enterpriseValue:(averageEnterpriseValue/numStocks),\n            enterpriseToRev:(averageEnterpriseToRev/numStocks),\n            enterpriseToEbitda:(averageEnterpriseToEbitda/numStocks),\n            marketCap:(averageMarketCap/numStocks),\n            profitMargins:(averageProfitMargins/numStocks),\n            roe:(averageRoe/numStocks)}])\n        }else{setAverageData([])}\n\n    }\n\n\n    useEffect(()=> {\n         axios.get(\"stocks/\")\n          .then(res => {\n              updateAverageData(res.data.stocksData)\n              setStocksData(res.data.stocksData)\n\n          }).catch(error => console.error('Error: $(error)'))\n    }, [])\n\n\n    const onAdd =({ ticker })=>{\n        axios.post(\"stocks/\", {ticker:ticker})\n            .then(res => {\n                updateAverageData([...stocksData, res.data])\n                setStocksData([...stocksData, res.data])\n            }).catch(function (error) {\n                if (error.response) {\n                  // The request was made and the server responded with a status code\n                  // that falls out of the range of 2xx\n                  console.log(error.response.data);\n                  console.log(error.response.status);\n                  console.log(error.response.headers);\n                } else if (error.request) {\n                  // The request was made but no response was received\n                  // `error.request` is an instance of XMLHttpRequest in the browser and an instance of\n                  // http.ClientRequest in node.js\n                  console.log(error.request);\n                } else {\n                  // Something happened in setting up the request that triggered an Error\n                  console.log('Error', error.message);\n                }\n                console.log(error.config);\n  });\n\n    }\n\n    const onDelete = ({ ticker }) =>{\n        axios.delete(\"delete-stock/\" + ticker)\n        setStocksData(stocksData.filter((stock) => stock.ticker !== ticker))\n        updateAverageData(stocksData.filter((stock) => stock.ticker !== ticker))\n    }\n\n\n    return (\n    <div className=\"App\">\n\n        <AddStock onAdd={ onAdd }/>\n        {\n            (stocksData.length>0) ? <StockTable data={ stocksData } onDelete={ onDelete } />\n                : <div>Add a stock stupid</div>\n        }\n        {\n            (averageData.length>0) ? <AverageTable averageData={averageData}/>\n                : <></>\n        }\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}